# TreeMap

**TreeMap** هو نوع خاص من الخرائط (Maps) في جافا، يتميز بترتيب عناصره بشكل تلقائي. هذا الترتيب يتم بناءً على **المفاتيح (Keys)** الموجودة في الخريطة، حيث يتم ترتيبها إما بشكل تصاعدي (حسب القيمة الطبيعية للمفتاح) أو وفقًا لمقارنة مخصصة يتم تحديدها عند إنشاء الخريطة.

### لماذا نستخدم TreeMap؟

- **الترتيب التلقائي:** إذا كنت بحاجة إلى الوصول إلى العناصر بترتيب معين، فإن TreeMap هو الخيار الأمثل.
- **الدعم للعمليات المتعلقة بالترتيب:** يوفر TreeMap مجموعة من الطرق التي تسمح لك بالبحث عن أول عنصر أو آخر عنصر، أو عن عنصر أكبر أو أصغر من عنصر معين.
- **استخدام بنية بيانات الشجرة الحمراء السوداء:** يعتمد TreeMap داخليًا على بنية بيانات الشجرة الحمراء السوداء، مما يضمن كفاءة عالية في عمليات البحث والإضافة والحذف.

### كيف يعمل TreeMap؟

- **المفاتيح:** يجب أن تكون المفاتيح المستخدمة في TreeMap قابلة للمقارنة (Comparable) أو يجب أن يتم توفير مقارنة مخصصة عند إنشاء الخريطة.
- **الترتيب:** يتم ترتيب العناصر في الخريطة بناءً على قيم المفاتيح، حيث يتم مقارنة كل مفتاح جديد بالمفاتيح الموجودة لتحديد مكانه الصحيح في الشجرة.
- **العمليات:** يدعم TreeMap جميع العمليات الأساسية للخرائط (إضافة، حذف، بحث)، بالإضافة إلى عمليات أخرى خاصة بالترتيب مثل الحصول على العنصر الأصغر أو الأكبر، أو الحصول على مجموعة من العناصر ضمن نطاق معين من المفاتيح.

### متى نستخدم TreeMap؟

- **عندما تحتاج إلى ترتيب العناصر:** إذا كنت تبني قاموسًا مرتبًا أبجديًا، أو قائمة مرتبة حسب التاريخ، فإن TreeMap هو الخيار المناسب.
- **عندما تحتاج إلى عمليات بحث سريعة على أساس النطاق:** إذا كنت تريد البحث عن جميع العناصر التي تقع بين قيمتين معينتين للمفتاح، فإن TreeMap يوفر طرقًا فعالة للقيام بذلك.

### مثال بسيط

```java
import java.util.*;

public class TreeMapExample {
    public static void main(String[] args) {
        TreeMap<String, Integer> treeMap = new TreeMap<>();
        treeMap.put("apple", 5);
        treeMap.put("banana", 3);
        treeMap.put("orange", 2);

        // طباعة العناصر بترتيب تصاعدي حسب المفتاح
        for (Map.Entry<String, Integer> entry : treeMap.entrySet()) {
            System.out.println(entry.getKey() + ": " + entry.getValue());
        }
    }
}

```

في هذا المثال، يتم إنشاء TreeMap لتخزين أزواج من النوع (String, Integer). يتم إضافة بعض العناصر إلى الخريطة، ويتم طباعة العناصر بترتيب تصاعدي حسب المفتاح.

### ملحوظات هامة

- TreeMap لا يسمح بوجود مفاتيح مكررة.
- TreeMap ليس متزامنًا، لذا يجب توخي الحذر عند استخدامه في بيئات متعددة الخيوط.
- هناك أنواع أخرى من الخرائط في جافا مثل HashMap و LinkedHashMap، ولكل منها خصائص واستخدامات مختلفة.