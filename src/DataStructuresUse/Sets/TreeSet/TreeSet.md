# TreeSet

**TreeSet** هي مجموعة مرتبة (Sorted Set) في جافا تستخدم شجرة بحث ثنائية (عادةً شجرة حمراء-سوداء) لتخزين عناصرها. هذا يعني أن العناصر في TreeSet يتم ترتيبها بشكل تلقائي وفقًا لترتيبها الطبيعي (natural ordering) أو وفقًا لمقارنة مخصصة يتم توفيرها عند إنشاء المجموعة.

### الخصائص الرئيسية لـ TreeSet:

- **الترتيب:** يتم ترتيب العناصر في TreeSet بشكل تصاعدي بناءً على قيمها الطبيعية أو وفقًا للمقارنة المخصصة.
- **عدم تكرار العناصر:** لا يسمح TreeSet بتكرار العناصر. أي عنصر تحاول إضافته مرة أخرى سيتم تجاهله.
- **الأداء:** عمليات البحث والإضافة والحذف في TreeSet تتم بشكل فعال بكفاءة لوغاريتمية (O(log n)) بفضل استخدام شجرة البحث الثنائية.

### متى نستخدم TreeSet؟

- **عندما نحتاج إلى مجموعة مرتبة فريدة من العناصر:** مثلاً، عند تخزين قائمة من الكلمات مرتبة أبجدياً، أو قائمة من الأعداد مرتبة تصاعدياً.
- **عندما نريد الوصول السريع إلى أصغر أو أكبر عنصر في المجموعة:** يمكن الحصول على العنصر الأول والأخير في TreeSet بسهولة.
- **عندما نريد تنفيذ عمليات مثل الحصول على مجموعة فرعية من العناصر بين قيمتين معينتين:** يمكن لـ TreeSet القيام بذلك بكفاءة.

### مثال على استخدام TreeSet:

```java
import java.util.TreeSet;

public class TreeSetExample {
    public static void main(String[] args) {
        TreeSet<String> fruits = new TreeSet<>();
        fruits.add("banana");
        fruits.add("apple");
        fruits.add("orange");
        fruits.add("apple"); // لن يتم إضافته مرة أخرى

        // سيتم طباعة العناصر مرتبة أبجدياً
        for (String fruit : fruits) {
            System.out.println(fruit);
        }
    }
}

```

الميزة	HashSet		
الترتيب		مرتب حسب الإضافة
التكرار	غير مسموح	غير مسموح
الأداء		سريع جدًا
الاستخدامات	مجموعة غير مرتبة	مجموعة مرتبة حسب الإضافة

| LinkedHashSet | HashSet | TreeSet | الميزة |
| --- | --- | --- | --- |
|  | غير مرتب | مرتب حسب القيمة الطبيعية أو المقارنة المخصصة | الترتيب |
| غير مسموح | غير مسموح | غير مسموح | التكرار |
| سريع جدًا | سريع جدًا | سريع (لوغاريتمي) | الأداء |
| مجموعة مرتبة حسب الإضافة | مجموعة غير مرتبة | مجموعة مرتبة حسب القيمة | الاستخدامات	 |

### نقاط مهمة:

- **الترتيب الطبيعي:** يجب أن تطبق العناصر التي تريد إضافتها إلى TreeSet واجهة `Comparable` لتحديد ترتيبها الطبيعي.
- **المقارنة المخصصة:** يمكنك توفير مقارنة مخصصة باستخدام واجهة `Comparator` لتحديد ترتيب العناصر بشكل مختلف.
- **عمليات أخرى:** يدعم TreeSet العديد من العمليات الأخرى مثل الحصول على العنصر الأصغر والأكبر، والحصول على مجموعة فرعية من العناصر بين قيمتين معينتين.

### ملخص

TreeSet هي أداة قوية ومرنة في جافا لتخزين مجموعات مرتبة من العناصر الفريدة. إذا كنت بحاجة إلى مجموعة مرتبة بشكل طبيعي أو حسب معيار معين، فإن TreeSet هو الخيار الأمثل.

## العمليات المتقدمة التي يدعمها TreeSet في جافا

تتميز مجموعة TreeSet بقدراتها على تنفيذ مجموعة واسعة من العمليات المتقدمة بفضل بنيتها القائمة على شجرة البحث الثنائية. إليك بعض أهم هذه العمليات:

### 1. **الحصول على أصغر وأكبر عنصر:**

- **first():** يعيد أصغر عنصر في المجموعة.
- **last():** يعيد أكبر عنصر في المجموعة.

```java
TreeSet<Integer> numbers = new TreeSet<>();
numbers.add(5);
numbers.add(2);
numbers.add(8);

int smallest = numbers.first(); // smallest will be 2
int largest = numbers.last();  // largest will be 8

```

### **الحصول على مجموعة فرعية:**

- **subSet(fromElement, toElement):** يعيد مجموعة فرعية تحتوي على جميع العناصر الأكبر من أو تساوي `fromElement` وأصغر من `toElement`.
- **headSet(toElement):** يعيد مجموعة فرعية تحتوي على جميع العناصر الأصغر من `toElement`.
- **tailSet(fromElement):** يعيد مجموعة فرعية تحتوي على جميع العناصر الأكبر من أو تساوي `fromElement`.

```java
TreeSet<Character> letters = new TreeSet<>();
// ... (add elements)
Set<Character> subset = letters.subSet('c', 'g'); // عناصر بين c و g

```

### **تحقق من وجود عنصر:**

- **contains(element):** يفحص إذا كانت المجموعة تحتوي على عنصر معين.

```java
boolean containsApple = fruits.contains("apple");

```

### **إزالة عنصر:**

- **remove(element):** يزيل عنصرًا معينًا من المجموعة.

### 5. **حجم المجموعة:**

- **size():** يعيد عدد العناصر في المجموعة.

### 6. **التحقق من كون المجموعة فارغة:**

- **isEmpty():** يفحص إذا كانت المجموعة فارغة.

### 7. **إزالة جميع العناصر:**

- **clear():** يزيل جميع العناصر من المجموعة.

### أمثلة على استخدامات متقدمة:

- **تنفيذ خوارزميات الفرز:** يمكن استخدام TreeSet لفرز مجموعة من العناصر بشكل طبيعي أو حسب مقارنة مخصصة.
- **تنفيذ هياكل بيانات أخرى:** يمكن استخدام TreeSet كأساس لتنفيذ هياكل بيانات أخرى مثل المؤشرات (indexes) والأشجار.
- **تحليل البيانات:** يمكن استخدام TreeSet لتنفيذ عمليات مثل إيجاد القيم المتطرفة (outliers) وحساب الإحصائيات الوصفية.

### ملاحظات هامة:

- **الترتيب:** يجب أن تطبق العناصر التي تريد إضافتها إلى TreeSet واجهة `Comparable` لتحديد ترتيبها الطبيعي، أو يمكنك توفير `Comparator` مخصص.
- **الأداء:** عمليات البحث والإضافة والحذف في TreeSet تتم بشكل فعال بكفاءة لوغاريتمية (O(log n)).
- **التغييرات الهيكلية:** أي عملية تغير هيكل TreeSet (مثل الإضافة أو الحذف) قد تؤدي إلى إعادة ترتيب العناصر.

**باختصار،** TreeSet هي أداة قوية ومرنة في جافا توفر مجموعة واسعة من العمليات المتقدمة لمعالجة البيانات المرتبة. فهم هذه العمليات سيساعدك على الاستفادة القصوى من هذه المجموعة في تطبيقاتك.